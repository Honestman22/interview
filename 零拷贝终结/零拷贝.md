## 从read(), write() 到mmap() 和write 再升级到sendfile()；

内核缓冲区的定义，操作系统使用的内存，给硬件做缓存用，只有内核能访问，不会给虚拟内存映射。

从磁盘-------->内核缓冲区-------->用户缓冲区--------->sockerbuffer--------->网卡

sendfile(),如果是普通DMA    从磁盘-------->内核缓冲区--------->sockerbuffer--------->网卡

如果是支持SG-DMA技术的网卡   从磁盘-------->内核缓冲区--------->网卡


大文件传输因为会占满内核缓冲区，导致其他文件无法命中，一般禁用零拷贝，用异步io+直接io

直接io就是绕过了内核缓冲区



出处https://zhuanlan.zhihu.com/p/258513662?utm_source=cn.wps.moffice_eng
