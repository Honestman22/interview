缓存
====

## 常见的缓存策略有哪些，如何做到缓存(比如redis)与DB里的数据一致性，你们项目中用到了什么缓存系统，如何设计的。
读取数据库前先查询缓存

## 如何防止缓存击穿和雪崩。
穿透，布隆过滤
雪崩，随机过期时间
并发，分布式锁，软过期
## 缓存数据过期后的更新如何设计。
## redis的list结构相关的操作。
LPUSH LPUSHX RPUSH RPUSHX LPOP RPOP BLPOP BRPOP LLEN LRANGE
## Redis的数据结构都有哪些。
字符串(strings)：存储整数（比如计数器）和字符串（废话。。），有些公司也用来存储json/pb等序列化数据，并不推荐，浪费内存
哈希表(hashes)：存储配置，对象（比如用户、商品），优点是可以存取部分key，对于经常变化的或者部分key要求atom操作的适合
列表(lists)：可以用来存最新用户动态，时间轴，优点是有序，确定是元素可重复，不去重
集合(sets)：无序，唯一，对于要求严格唯一性的可以使用
有序集合(sorted sets)：集合的有序版，很好用，对于排名之类的复杂场景可以考虑
## Redis的使用要注意什么，讲讲持久化方式，内存设置，集群的应用和优劣势，淘汰策略等。
持久化方式：RDB时间点快照 AOF记录服务器执行的所有写操作命令，并在服务器启动时，通过重新执行这些命令来还原数据集。
内存设置 maxmemory used_memory
虚拟内存： vm-enabled yes
## redis2和redis3的区别，redis3内部通讯机制。
## 当前redis集群有哪些玩法，各自优缺点，场景。
主从，哨兵，集群
## Memcache的原理，哪些数据适合放在缓存中。
## redis和memcached 的内存管理的区别。
## Redis的并发竞争问题如何解决，了解Redis事务的CAS操作吗。
单线程不存在竞争，

MULTI，告诉 Redis 服务器开启一个事务。注意，只是开启，而不是执行
EXEC，告诉 Redis 开始执行事务
DISCARD，告诉 Redis 取消事务
WATCH，监视某一个键值对，它的作用是在事务执行之前如果监视的键值被修改，事务会被取消。
可以利用watch实现cas乐观锁
## Redis的选举算法和流程是怎样的。
## redis的持久化的机制，aof和rdb的区别。
RDB 定时快照方式(snapshot)： 定时备份，可能会丢失数据
AOF 基于语句追加方式 只追加写操作
AOF 持久化和 RDB 持久化的最主要区别在于，前者记录了数据的变更，而后者是保存了数据本身
rdb全量同步
aof增量同步
## redis的集群怎么同步的数据的。
## 知道哪些redis的优化操作。
## Reids的主从复制机制原理。
## Redis的线程模型是什么。
单线程
## 请思考一个方案，设计一个可以控制缓存总体大小的自动适应的本地缓存。
堆缓存和堆外缓存，设置内存淘汰策略
## 如何看待缓存的使用（本地缓存，集中式缓存），简述本地缓存和集中式缓存和优缺点。
单机容量问题和数据一致性问题
## 本地缓存在并发使用时的注意事项。
